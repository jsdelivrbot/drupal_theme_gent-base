@include add-grid(24);
@include add-gutter(1/3);
@include add-gutter-style('split');

.l-row {
  @extend %clearfix;
  @include px-padding-lr(1, 1);
  position: relative;
  margin: 0 auto;
  max-width: $bp-tablet-l;

  .l-row {
    padding: 0;
  }

  @include mq($bp-tablet-s) {
    @include px-padding-lr(2, 2);
  }
}

// Semantic grid classes
.l-full,
.l-primary,
.l-primary--offset,
.l-secondary,
.l-half,
.l-fourth,
.l-column {
  @extend %clearfix;
  @include grid-span(24);
}

// Clear full width grid spans in case we use it in the same isolation grid as others
.l-header, .l-footer {
  @extend .l-full;
  clear:both;
}

.l-header {
  @extend .padding-bottom--big;
}

.l-footer {
  @extend .padding-top--big;
}


.l-primary {
  @include mq($bp-tablet-s) {
    @include grid-span(14);
  }
}

.l-primary--offset {
  @include mq($bp-tablet-l) {
    @include grid-span(16, 4);
  }
}

.l-secondary {
  @include mq($bp-tablet-s) {
    @include grid-span(9, 16);
  }
}

.l-half {
  @include mq($bp-tablet-m) {
    @include float-span(12);
  }
}

.l-third {
  // Should not be necessary, but somethimes our container loses it's default width
  @include float-span(24);

  @include mq($bp-tablet-s) {
    @include float-span(12);
  }
  @include mq($bp-tablet-m) {
    @include float-span(8);
  }
}

// Allign the grid items in our main content region to the left. This won't work if you have two grid'
// From the same type in it. This is a constraint for now.
.region-content .l-third {
  @include mq($bp-tablet-s) {
    &:nth-of-type(2n+1) {
      margin-left:0;
    }
  }
  @include mq($bp-tablet-m) {
    &:nth-of-type(2n+1) {
      @include float-span(8);
    }
    &:nth-of-type(3n+1) {
      margin-left:0;
    }
  }
}

// In the region content-top, island-epsilon should span 100% when before tablet-s
.region-content-top {
  .island--epsilon.l-third {
    @include mq($bp-tablet-s) {
      @include float-span(24);
    }
    @include mq($bp-tablet-m) {
      @include float-span(8);
    }
  }
}


// When we are using masonry view (class multi-column), we do not want the float and clear behavior of
// our floating grid. Reset those so masonry can handle the layout.
.multi-column {
 .l-third, .l-fourth {
    display:block;
    margin-left:0 !important;
    margin-right:0 !important;
    clear:none !important;
    float:none !important;
  }

  // Our element that will be used for masonry to handle the gutter
  .gutter {
    width:gutter-span();
  }
}

.l-fourth {
  @include mq($bp-tablet-s) {
    @include float-span(12);
  }
  @include mq($bp-tablet-m) {
    @include float-span(8);
  }
  @include mq($bp-tablet-l) {
    @include float-span(6);
  }
}

// Variant to l-fourth that immediately jumps to one column
.l-fourth-to-single {
  clear:left;
  @include mq($bp-tablet-m) {
    clear:none;
    @include float-span(6);
  }
}


.l-column {
  @include mq($bp-phone-m) {
    @include float-span(12);
  }

  @include mq($bp-tablet-m) {
    @include float-span(6);
  }
}

.l-thumb {
  @include float-span(12);
  @include margin-tb(.1, .1);

  @include mq($bp-phone-m) {
    @include float-span(8);
  }

  @include mq($bp-tablet-s) {
    @include float-span(12);
  }

  @include mq($bp-tablet-m) {
    @include float-span(8);
  }
}

.l-half-alt {
  @include add-gutter(1/3);
  @include float-span(24);

  @include mq($bp-tablet-m) {
    @include add-gutter(0);
    @include float-span(12);
  }
}

.l-fourth-alt {
  @include add-gutter(1/3);
  @include float-span(24);

  @include mq($bp-tablet-m) {
    @include add-gutter(0);
    @include float-span(6);
  }
}

// Helper classes
.l-left {
  float: left;
}

.l-right {
  float: right;
}

.l-center {
  text-align: center;
}


/*doc
---
title: Grids
name: Grids
category: basics
---

<p class="intro-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec vitae enim eu justo porta eleifend. Donec condimentum bibendum ex at facilisis. In elit diam, laoreet blandit rhoncus eu, dignissim eu metus. Sed bibendum lacus sit amet faucibus pellentesque. Nulla quis congue quam. Nam tincidunt ex eros, non scelerisque diam lacinia porttitor.</p>

<div class="line txtC">
                    <br/>
                    <p class="intro-text">Break 1</p>
                    <div class="grid-wrapper grid-wrapper-three">
                      <div class="grid-col grid-col-one"></div>
                      <div class="grid-col grid-col-two"></div>
                      <div class="grid-col grid-col-three"></div>
                      <div class="grid-col grid-col-four"></div>
                      <div class="grid-row-one grid-block grid-block-one"></div>
                      <div class="grid-row-one grid-block grid-block-two"></div>
                      <div class="grid-row-one grid-block grid-block-three grid-block-highlighted"></div>
                      <div class="grid-row-two grid-block grid-block-one"></div>
                      <div class="grid-row-two grid-block grid-block-two"></div>
                      <div class="grid-row-two grid-block grid-block-three grid-block-highlighted"></div>
                      <div class="grid-row-three grid-block grid-block-one"></div>
                      <div class="grid-row-three grid-block grid-block-two"></div>
                      <div class="grid-row-three grid-block grid-block-three grid-block-highlighted"></div>
                    </div>
                    <br/>
                    <br/>
                    <p class="intro-text">Break 2</p>
                    <div class="grid-wrapper grid-wrapper-six">
                    <div class="grid-col grid-col-one"></div>
                    <div class="grid-col grid-col-two"></div>
                    <div class="grid-col grid-col-three"></div>
                    <div class="grid-col grid-col-four"></div>
                    <div class="grid-col grid-col-five"></div>
                    <div class="grid-col grid-col-six"></div>
                    <div class="grid-row-one grid-block grid-block-one"></div>
                    <div class="grid-row-one grid-block grid-block-two"></div>
                    <div class="grid-row-one grid-block grid-block-three grid-block-highlighted"></div>
                    <div class="grid-row-two grid-block grid-block-one"></div>
                    <div class="grid-row-two grid-block grid-block-two"></div>
                    <div class="grid-row-two grid-block grid-block-three grid-block-highlighted"></div>
                    <div class="grid-row-three grid-block grid-block-one"></div>
                    <div class="grid-row-three grid-block grid-block-two"></div>
                    <div class="grid-row-three grid-block grid-block-three grid-block-highlighted"></div>
                    </div>
                    <br/>
                    <br/>
                    <p class="intro-text">Break 3</p>
                    <div class="grid-wrapper grid-wrapper-nine">
                    <div class="grid-col grid-col-one"></div>
                    <div class="grid-col grid-col-two"></div>
                    <div class="grid-col grid-col-three"></div>
                    <div class="grid-col grid-col-four"></div>
                    <div class="grid-col grid-col-five"></div>
                    <div class="grid-col grid-col-six"></div>
                    <div class="grid-col grid-col-seven"></div>
                    <div class="grid-col grid-col-eight"></div>
                    <div class="grid-col grid-col-nine"></div>
                    <div class="grid-row-one grid-block grid-block-one"></div>
                    <div class="grid-row-one grid-block grid-block-two"></div>
                    <div class="grid-row-one grid-block grid-block-three grid-block-highlighted"></div>
                    <div class="grid-row-two grid-block grid-block-one"></div>
                    <div class="grid-row-two grid-block grid-block-two"></div>
                    <div class="grid-row-two grid-block grid-block-three grid-block-highlighted"></div>
                    <div class="grid-row-three grid-block grid-block-one"></div>
                    <div class="grid-row-three grid-block grid-block-two"></div>
                    <div class="grid-row-three grid-block grid-block-three grid-block-highlighted"></div>
                    </div>
                    <br/>
                    <br/>
                    <p class="intro-text">Break 4</p>
                    <div class="grid-wrapper grid-wrapper-twelf">
                    <div class="grid-col grid-col-one"></div>
                    <div class="grid-col grid-col-two"></div>
                    <div class="grid-col grid-col-three"></div>
                    <div class="grid-col grid-col-four"></div>
                    <div class="grid-col grid-col-five"></div>
                    <div class="grid-col grid-col-six"></div>
                    <div class="grid-col grid-col-seven"></div>
                    <div class="grid-col grid-col-eight"></div>
                    <div class="grid-col grid-col-nine"></div>
                    <div class="grid-col grid-col-ten"></div>
                    <div class="grid-col grid-col-eleven"></div>
                    <div class="grid-col grid-col-twelf"></div>
                    <div class="grid-row-one grid-block grid-block-one"></div>
                    <div class="grid-row-one grid-block grid-block-two"></div>
                    <div class="grid-row-one grid-block grid-block-three grid-block-highlighted"></div>
                    <div class="grid-row-two grid-block grid-block-one"></div>
                    <div class="grid-row-two grid-block grid-block-two"></div>
                    <div class="grid-row-two grid-block grid-block-three grid-block-highlighted"></div>
                    <div class="grid-row-three grid-block grid-block-one"></div>
                    <div class="grid-row-three grid-block grid-block-two"></div>
                    <div class="grid-row-three grid-block grid-block-three grid-block-highlighted"></div>
                  </div>
                  <br/>
                  <br/>
</div>
*/

